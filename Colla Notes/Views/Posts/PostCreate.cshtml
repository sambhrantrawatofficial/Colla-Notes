@inject Microsoft.AspNetCore.Http.IHttpContextAccessor HttpContextAccessor
@{
    var Username = HttpContextAccessor.HttpContext.Session.GetString("username");
}
@model Post
@{
    ViewData["Title"] = "Create Post";
}
<div class="container mt-5 mb-5 max-w-5xl">

    <!-- HEADER -->
    <div class="mb-10 text-center">
        <h1 class="text-5xl md:text-6xl font-extrabold tracking-tight flex justify-center items-center gap-4">
            Create a New Post ✨
        </h1>
        <p class="mt-3 text-lg text-gray-500 max-w-2xl mx-auto">
            Write once. Inspire many. Your words matter more than you think.
        </p>
    </div>

    <!-- GLASS CARD -->
    <div class="card border-0 rounded-[2rem] shadow-2xl bg-white/70 backdrop-blur-xl">
        <div class="card-body p-6 md:p-10">

            <!-- FORM -->
            <form asp-action="PostCreate" method="post" asp-controller="Posts" novalidate>
                @Html.AntiForgeryToken()

                <!-- TITLE -->
                <div class="mb-8">
                    <label asp-for="Title" class="block text-xl font-semibold mb-2">
                        Post Title
                    </label>

                    <input asp-for="Title"
                           class="form-control form-control-lg rounded-xl shadow-sm border-2 focus:border-indigo-500 focus:ring-indigo-500"
                           placeholder="Give your post a powerful title..." />

                    <small class="text-gray-500 block mt-2">
                        This is the first thing people will notice.
                    </small>
                </div>

                <!-- DESCRIPTION -->
                <div class="mb-10">
                    <label asp-for="Description" class="block text-xl font-semibold mb-2">
                        Post Content
                    </label>

                    <textarea asp-for="Description"
                              id="editor"
                              class="form-control rounded-xl shadow-sm border-2 focus:border-indigo-500 focus:ring-indigo-500"
                              rows="12"
                              placeholder="Start writing something meaningful..."></textarea>

                    <small class="text-gray-500 block mt-2">
                        Clear thoughts create strong impact.
                    </small>
                </div>

                <!-- TAGS -->
                <div class="mb-10">
                    <label class="block text-xl font-semibold mb-3">
                        Tags
                    </label>

                    <div class="flex flex-wrap gap-4">
                        <input type="text"
                               asp-for="Tag_1"
                               class="form-control rounded-full px-5 py-2 shadow-sm w-52 focus:ring-indigo-500"
                               placeholder="#technology" />

                        <input type="text"
                               asp-for="Tag_2"
                               class="form-control rounded-full px-5 py-2 shadow-sm w-52 focus:ring-indigo-500"
                               placeholder="#learning" />
                    </div>

                    <small class="text-gray-500 block mt-2">
                        Tags help your content reach the right people.
                    </small>
                </div>

                <!-- ACTION BAR -->
                <div class="flex flex-col md:flex-row justify-between items-center gap-6 mt-12 pt-6 border-t">

                    <a asp-controller="Posts"
                       asp-action="PostHome"
                       class="text-lg font-semibold text-gray-600 hover:text-black transition">
                        ← Back to Posts
                    </a>

                    <div class="flex gap-4">
                        <button type="submit"
                                class="btn btn-primary rounded-full px-8 py-3 text-lg shadow-lg hover:shadow-xl transition-all">
                            🚀 Publish Post
                        </button>

                        <a asp-controller="Posts"
                           asp-action="PostHome"
                           class="btn btn-outline-danger rounded-full px-8 py-3 text-lg">
                            Cancel
                        </a>
                    </div>
                </div>

            </form>

        </div>
    </div>
</div>


<!-- CKEDITOR -->
<script src="https://cdn.ckeditor.com/ckeditor5/39.0.1/classic/ckeditor.js"></script>
<script>
    ClassicEditor
        .create(document.querySelector('#editor'), {
            toolbar: [
                'heading', '|',
                'bold', 'italic', 'link',
                'bulletedList', 'numberedList', '|',
                'blockQuote', 'undo', 'redo'
            ]
        })
        .catch(error => console.error(error));
</script>